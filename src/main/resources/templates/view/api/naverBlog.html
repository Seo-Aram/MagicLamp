<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>NaverAPI Blog 테스트</title>
</head>
<body>
<script th:inline="javascript">

    let api = [[${naverBlog}]]

    let obj = JSON.parse(api);

    console.log('obj => ', obj);
    console.log('obj => ', obj.items);

    const objs = obj.items;
</script>
<form>
    검색: <input type="text" name="keyword">
    <input type="submit">
</form>
<hr/>

<table>
    <tr>
        <td>ISBN</td>
        <td>title</td>
        <td>도서이미지</td>
    </tr>

    <div id="result">

    </div>
</table>

<hr/>
<div>[[${naverBlog}]]</div>
<script th:inline="javascript">


    let isb = '';
    let tit = '';
    let img = '';

    for (let i = 0; i < obj.items.length; i++) {
        console.log('isbn ==> ', obj.items[i].isbn);
        isb += obj.items[i].isbn + '\n';
        console.log('title ==> ', obj.items[i].title);
        tit += obj.items[i].title + '\n';
        console.log('image link ==> ', obj.items[i].image);
        img += obj.items[i].image + '\n';
    }

    const main = document.getElementById('result');
    const isbn = document.getElementById('isbn');
    const title = document.getElementById('title');
    const image = document.getElementById('image');

    // main.innerHTML = isb;
    // isbn.innerHTML = isb;
    // title.innerHTML = tit;
    // image.innerHTML = img;

</script>
</body>
</html>